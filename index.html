<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GMMA - Live Data</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lightweight-charts@4.1.1/dist/lightweight-charts.standalone.production.js"></script>
    
    <style>
        body { font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .animate-bounce-in { animation: fadeIn 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        .spin-once { animation: spin 0.5s linear; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const Icons = {
            Search: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>,
            TrendingUp: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></svg>,
            Star: ({ fill = "none" }) => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill={fill} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>,
            Trash: () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>,
            Bell: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></svg>,
            X: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"/><path d="m6 6 18 18"/></svg>,
            Alert: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>,
            Activity: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>,
            Wifi: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M5 12.55a11 11 0 0 1 14.08 0"/><path d="M1.42 9a16 16 0 0 1 21.16 0"/><path d="M8.53 16.11a6 6 0 0 1 6.95 0"/><line x1="12" y1="20" x2="12.01" y2="20"/></svg>,
            Chart: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>,
            BarChart: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="20" x2="12" y2="10"/><line x1="18" y1="20" x2="18" y2="4"/><line x1="6" y1="20" x2="6" y2="16"/></svg>,
            Refresh: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 21h5v-5"/></svg>
        };

        const calculateEMA = (data, period) => {
            if (!data || data.length === 0) return [];
            const k = 2 / (period + 1);
            let emaData = [];
            let prevEma = data[0].close; 
            emaData.push({ time: data[0].time, value: prevEma });

            for (let i = 1; i < data.length; i++) {
                const currentEma = data[i].close * k + prevEma * (1 - k);
                emaData.push({ time: data[i].time, value: currentEma });
                prevEma = currentEma;
            }
            return emaData;
        };

        const App = () => {
            const mainChartContainerRef = useRef(null);
            const volChartContainerRef = useRef(null);
            const gmmacdChartContainerRef = useRef(null);
            const gapChartContainerRef = useRef(null);
            
            const chartRefs = useRef({ main: null, vol: null, gmmacd: null, gap: null });
            
            const [symbol, setSymbol] = useState('2330.TW'); 
            const [inputVal, setInputVal] = useState('2330');
            const [currentValues, setCurrentValues] = useState(null);
            const [indicatorValues, setIndicatorValues] = useState({ vol: null, gmmacd: null, gap: null });
            const [watchlist, setWatchlist] = useState([]);
            const [signal, setSignal] = useState({ type: 'NEUTRAL', text: 'ÂàùÂßãÂåñ' });
            const [status, setStatus] = useState('IDLE');
            const [errorMsg, setErrorMsg] = useState('');
            const [refreshKey, setRefreshKey] = useState(0); // Áî®ÊñºËß∏ÁôºÂà∑Êñ∞

            const gmmaShortPeriods = [3, 5, 8, 10, 12, 15];
            const gmmaLongPeriods = [30, 35, 40, 45, 50, 60];

            useEffect(() => {
                const savedList = localStorage.getItem('vibe-stock-watchlist');
                if (savedList) setWatchlist(JSON.parse(savedList));
            }, []);

            const fetchSingleSymbol = async (symToTry) => {
                // Âä†ÂÖ•ÊôÇÈñìÊà≥Ë®òÈÅøÂÖç Proxy Âø´Âèñ (_t=Date.now())
                const timestamp = Date.now();
                const targetUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${symToTry}?range=2y&interval=1d&events=history&_t=${timestamp}`;
                
                const proxies = [
                    { name: 'Proxy A', url: `https://corsproxy.io/?${encodeURIComponent(targetUrl)}` },
                    { name: 'Proxy B', url: `https://api.allorigins.win/raw?url=${encodeURIComponent(targetUrl)}` }
                ];

                for (let proxy of proxies) {
                    try {
                        const response = await fetch(proxy.url);
                        if (!response.ok) {
                            if (response.status === 404) return null;
                            continue;
                        }
                        const json = await response.json();
                        const result = json.chart?.result?.[0];
                        if (!result) return null;
                        
                        const quote = result.indicators.quote[0];
                        const timestamps = result.timestamp;
                        if (!timestamps || !quote || !quote.close) return null;

                        const formattedData = [];
                        for (let i = 0; i < timestamps.length; i++) {
                            if (quote.open[i] == null || quote.close[i] == null) continue;
                            const date = new Date(timestamps[i] * 1000);
                            formattedData.push({
                                time: date.toISOString().split('T')[0],
                                open: Number(quote.open[i].toFixed(2)),
                                high: Number(quote.high[i].toFixed(2)),
                                low: Number(quote.low[i].toFixed(2)),
                                close: Number(quote.close[i].toFixed(2)),
                                volume: Number(quote.volume[i] || 0),
                            });
                        }
                        if (formattedData.length === 0) return null;
                        return formattedData;
                    } catch (err) {}
                }
                return null;
            };

            const smartFetch = async (inputSym) => {
                setStatus('LOADING');
                setErrorMsg('');
                
                let candidates = [inputSym];
                if (/^\d{3,6}$/.test(inputSym)) {
                    candidates = [`${inputSym}.TW`, `${inputSym}.TWO`];
                }

                for (let sym of candidates) {
                    const data = await fetchSingleSymbol(sym);
                    if (data) {
                        setStatus('SUCCESS');
                        if (sym !== symbol) setSymbol(sym); 
                        return data;
                    }
                }

                setStatus('ERROR');
                setErrorMsg('Êü•ÁÑ°Ë≥áÊñô');
                return null;
            };

            useEffect(() => {
                if (!mainChartContainerRef.current) return;
                const loadData = async () => {
                    const data = await smartFetch(symbol);
                    if (data) initCharts(data);
                };
                loadData();
            }, [symbol, refreshKey]); // Âä†ÂÖ• refreshKey ‰æùË≥¥

            const initCharts = (data) => {
                const LWC = window.LightweightCharts;
                const commonOptions = {
                    layout: { background: { type: LWC.ColorType.Solid, color: '#ffffff' }, textColor: '#333' },
                    grid: { vertLines: { color: '#f5f5f5' }, horzLines: { color: '#f5f5f5' } },
                    crosshair: { mode: 1, vertLine: { labelVisible: true } },
                    timeScale: { 
                        rightOffset: 5, barSpacing: 6, fixRightEdge: true, 
                        visible: true, borderColor: '#e0e0e0', timeVisible: false, secondsVisible: false 
                    },
                    localization: { locale: 'zh-TW', dateFormat: 'yyyy-MM-dd' },
                };

                const createChart = (ref, height) => {
                    if (ref.current) ref.current.innerHTML = '';
                    const chart = LWC.createChart(ref.current, {
                        ...commonOptions,
                        width: ref.current.clientWidth,
                        height: height,
                    });
                    return chart;
                };

                // 1. Main Chart
                const mainChart = createChart(mainChartContainerRef, mainChartContainerRef.current.clientHeight);
                const candleSeries = mainChart.addCandlestickSeries({
                    upColor: '#ef5350', downColor: '#26a69a', 
                    borderVisible: false, wickUpColor: '#ef5350', wickDownColor: '#26a69a',
                    lastValueVisible: true, 
                });
                candleSeries.setData(data);

                // GMMA
                const emaStore = {};
                [...gmmaShortPeriods, ...gmmaLongPeriods].forEach(p => {
                    const isShort = gmmaShortPeriods.includes(p);
                    const color = isShort ? '#2e7d32' : '#c62828';
                    const series = mainChart.addLineSeries({ 
                        color: color, lineWidth: 1, 
                        priceLineVisible: false, lastValueVisible: true, crosshairMarkerVisible: false 
                    });
                    const emaValues = calculateEMA(data, p);
                    series.setData(emaValues);
                    emaStore[p] = emaValues;
                });

                // 2. Volume Chart
                const volChart = createChart(volChartContainerRef, volChartContainerRef.current.clientHeight);
                const volSeries = volChart.addHistogramSeries({
                    priceFormat: { type: 'volume' },
                    priceScaleId: '', 
                    lastValueVisible: true,
                });
                volSeries.setData(data.map(d => ({
                    time: d.time,
                    value: d.volume,
                    color: d.close >= d.open ? '#ef5350' : '#26a69a'
                })));

                // 3. GMMACD Chart
                const gmmacdChart = createChart(gmmacdChartContainerRef, gmmacdChartContainerRef.current.clientHeight);
                const gmmacdSeries = gmmacdChart.addHistogramSeries({
                    lastValueVisible: true,
                });

                // 4. Gap Chart
                const gapChart = createChart(gapChartContainerRef, gapChartContainerRef.current.clientHeight);
                const gapSeries = gapChart.addBaselineSeries({
                    baseValue: { type: 'price', price: 0 },
                    topLineColor: '#ef5350', topFillColor1: 'rgba(239, 83, 80, 0.28)', topFillColor2: 'rgba(239, 83, 80, 0.05)',
                    bottomLineColor: '#26a69a', bottomFillColor1: 'rgba(38, 166, 154, 0.05)', bottomFillColor2: 'rgba(38, 166, 154, 0.28)',
                    lastValueVisible: true,
                    priceFormat: { type: 'percent', precision: 2 },
                });

                const gmmacdData = [];
                const gapData = [];

                for(let i = 0; i < data.length; i++) {
                    let sumShort = 0, sumLong = 0;
                    let valid = true;
                    for (let p of gmmaShortPeriods) { if (!emaStore[p][i]) { valid = false; break; } sumShort += emaStore[p][i].value; }
                    for (let p of gmmaLongPeriods) { if (!emaStore[p][i]) { valid = false; break; } sumLong += emaStore[p][i].value; }

                    if (valid) {
                        const avgShort = sumShort / gmmaShortPeriods.length;
                        const avgLong = sumLong / gmmaLongPeriods.length;
                        const diff = avgShort - avgLong;
                        const pct = (diff / data[i].close) * 100;
                        
                        gmmacdData.push({ 
                            time: data[i].time, 
                            value: diff, 
                            color: diff >= 0 ? '#ef5350' : '#26a69a' 
                        });
                        gapData.push({ time: data[i].time, value: pct });
                    }
                }
                gmmacdSeries.setData(gmmacdData);
                gapSeries.setData(gapData);

                // --- Sync Logic ---
                const charts = [mainChart, volChart, gmmacdChart, gapChart];
                charts.forEach(c1 => {
                    c1.timeScale().subscribeVisibleLogicalRangeChange(range => {
                        charts.forEach(c2 => {
                            if (c1 !== c2) c2.timeScale().setVisibleLogicalRange(range);
                        });
                    });
                });

                charts.forEach(c => {
                    c.subscribeCrosshairMove(param => {
                        const t = param.time;
                        charts.forEach(other => {
                            if (c !== other) {
                                if (t) other.setCrosshairPosition(0, t, other === mainChart ? candleSeries : (other === volChart ? volSeries : (other === gmmacdChart ? gmmacdSeries : gapSeries)));
                                else other.clearCrosshairPosition();
                            }
                        });

                        if (t) {
                            if (c === mainChart && param.seriesData) setCurrentValues({ price: param.seriesData.get(candleSeries) });
                            
                            const volItem = data.find(d => d.time === t);
                            const macdItem = gmmacdData.find(d => d.time === t);
                            const gapItem = gapData.find(d => d.time === t);

                            setIndicatorValues({
                                vol: volItem?.volume,
                                gmmacd: macdItem?.value,
                                gap: gapItem?.value
                            });
                        } else {
                            setCurrentValues(null);
                            setIndicatorValues({ vol: null, gmmacd: null, gap: null });
                        }
                    });
                });

                // Initial Range (6 months)
                if (data.length > 0) {
                    const lastItem = data[data.length - 1];
                    const lastDate = new Date(lastItem.time);
                    const sixMonthsAgo = new Date(lastDate);
                    sixMonthsAgo.setMonth(sixMonthsAgo.getMonth() - 6);
                    mainChart.timeScale().setVisibleRange({ from: sixMonthsAgo.toISOString().split('T')[0], to: lastItem.time });
                }

                chartRefs.current = { main: mainChart, vol: volChart, gmmacd: gmmacdChart, gap: gapChart };
            };

            const toggleWatchlist = () => {
                let newList = watchlist.includes(symbol) ? watchlist.filter(i => i !== symbol) : [...watchlist, symbol];
                setWatchlist(newList);
                localStorage.setItem('vibe-stock-watchlist', JSON.stringify(newList));
            };

            const handleSearch = (e) => {
                e.preventDefault();
                let cleanInput = inputVal.trim().toUpperCase();
                setSymbol(cleanInput);
            };

            // Ëß∏ÁôºÂà∑Êñ∞
            const handleRefresh = () => {
                setRefreshKey(prev => prev + 1);
            };

            return (
                <div className="flex flex-col h-screen overflow-hidden bg-slate-50">
                    <header className="bg-white border-b px-4 py-3 flex items-center justify-between shadow-sm z-20 h-14 shrink-0">
                        <div className="flex items-center gap-2">
                            <div className="bg-purple-600 p-2 rounded-lg text-white"><Icons.TrendingUp /></div>
                            <div>
                                <h1 className="text-lg font-bold leading-none">GMMA</h1>
                                <p className="text-[10px] text-slate-400 font-bold tracking-wider">LIVE 4-CHART</p>
                            </div>
                        </div>
                        <div className="flex items-center gap-2">
                            <form onSubmit={handleSearch} className="relative flex items-center">
                                <input type="text" value={inputVal} onChange={(e) => setInputVal(e.target.value)}
                                    className="pl-8 pr-3 py-1.5 bg-slate-100 border-none rounded-lg focus:ring-2 focus:ring-purple-500 w-32 md:w-48 text-sm font-bold placeholder:text-xs" 
                                    placeholder="‰ª£Ëôü (Â¶Ç 2330)" />
                                <div className="absolute left-2.5 top-2 text-slate-400"><Icons.Search /></div>
                            </form>
                            {/* Âà∑Êñ∞ÊåâÈàï */}
                            <button onClick={handleRefresh} className="p-2 rounded-lg bg-slate-100 text-slate-600 hover:bg-slate-200 transition-colors" title="Âà∑Êñ∞Âç≥ÊôÇÊï∏Êìö">
                                <div className={status === 'LOADING' ? 'spin-once' : ''}><Icons.Refresh /></div>
                            </button>
                            <button onClick={toggleWatchlist} className="p-2 rounded-lg bg-yellow-50 text-yellow-600"><Icons.Star fill={watchlist.includes(symbol) ? "#ca8a04" : "none"} /></button>
                        </div>
                    </header>

                    <main className="flex flex-1 overflow-hidden p-2 md:p-4 gap-4 flex-col md:flex-row">
                        <section className="flex-1 flex flex-col gap-1 min-h-0 relative">
                            {/* 1. Main Chart (50%) */}
                            <div className="bg-white rounded-t-xl shadow-sm border border-slate-200 border-b-0 p-2 flex flex-col relative overflow-hidden flex-[4]">
                                <div className="flex justify-between items-center mb-1 px-1">
                                    <h2 className="text-lg font-black flex items-center gap-2">
                                        {symbol} {status === 'SUCCESS' && <Icons.Wifi />}
                                    </h2>
                                    {currentValues && (
                                        <span className="font-mono font-bold text-slate-700">${currentValues.price?.close?.toFixed(2)}</span>
                                    )}
                                </div>
                                <div ref={mainChartContainerRef} className="flex-1 w-full" />
                            </div>

                            {/* 2. Volume Chart (16%) */}
                            <div className="bg-white border-x border-slate-200 p-2 flex flex-col relative overflow-hidden flex-[1]">
                                <div className="flex justify-between items-center px-1 mb-1">
                                    <div className="flex items-center gap-1 text-[10px] font-bold text-slate-500"><Icons.BarChart /> Volume</div>
                                    <span className="text-[10px] font-mono font-bold">{indicatorValues.vol ? (indicatorValues.vol / 1000).toFixed(0) + 'K' : '-'}</span>
                                </div>
                                <div ref={volChartContainerRef} className="flex-1 w-full" />
                            </div>

                            {/* 3. GMMACD Chart (16%) */}
                            <div className="bg-white border-x border-slate-200 p-2 flex flex-col relative overflow-hidden flex-[1]">
                                <div className="flex justify-between items-center px-1 mb-1">
                                    <div className="flex items-center gap-1 text-[10px] font-bold text-slate-500"><Icons.Chart /> GMMACD</div>
                                    <span className={`text-[10px] font-mono font-bold ${indicatorValues.gmmacd > 0 ? 'text-red-500' : 'text-green-600'}`}>
                                        {indicatorValues.gmmacd !== null ? indicatorValues.gmmacd.toFixed(2) : '-'}
                                    </span>
                                </div>
                                <div ref={gmmacdChartContainerRef} className="flex-1 w-full" />
                            </div>

                            {/* 4. Gap Chart (16%) */}
                            <div className="bg-white rounded-b-xl shadow-sm border border-slate-200 border-t-0 p-2 flex flex-col relative overflow-hidden flex-[1]">
                                <div className="flex justify-between items-center px-1 mb-1">
                                    <div className="flex items-center gap-1 text-[10px] font-bold text-slate-500"><Icons.Activity /> Gap %</div>
                                    <span className={`text-[10px] font-mono font-bold ${indicatorValues.gap > 0 ? 'text-red-500' : 'text-green-600'}`}>
                                        {indicatorValues.gap !== null ? indicatorValues.gap.toFixed(2) + '%' : '-'}
                                    </span>
                                </div>
                                <div ref={gapChartContainerRef} className="flex-1 w-full" />
                            </div>
                            
                            <div className="flex gap-2 overflow-x-auto pb-2 pt-2 min-h-[40px]">
                                {watchlist.map(item => (
                                    <div key={item} className="relative group shrink-0">
                                        <button onClick={() => { setSymbol(item); setInputVal(item.replace(/\.TW(O)?/, '')); }} 
                                            className={`px-3 py-1 rounded-lg border text-xs font-bold whitespace-nowrap ${symbol === item ? 'bg-purple-600 text-white border-purple-600' : 'bg-white border-slate-200'}`}>
                                            {item}
                                        </button>
                                        <button onClick={(e) => { e.stopPropagation(); const nl = watchlist.filter(i=>i!==item); setWatchlist(nl); localStorage.setItem('vibe-stock-watchlist', JSON.stringify(nl)); }}
                                            className="absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 hidden group-hover:block hover:bg-red-600 shadow-sm"><Icons.X /></button>
                                    </div>
                                ))}
                            </div>
                        </section>

                        <aside className="hidden md:flex w-64 flex-col gap-4 overflow-y-auto">
                            <div className="bg-white rounded-xl shadow-sm border border-slate-200 p-4">
                                <h3 className="font-bold text-sm mb-4 flex items-center gap-2"><Icons.Bell /> Êà∞ÊÉÖÊï∏ÂÄº</h3>
                                {currentValues ? (
                                    <div className="space-y-4">
                                        <div className="bg-slate-50 p-3 rounded border border-slate-100">
                                            <p className="text-[10px] text-slate-400 font-bold uppercase mb-1">Last Close</p>
                                            <p className="text-3xl font-mono font-black text-slate-800">${currentValues.price?.close?.toFixed(2)}</p>
                                        </div>
                                        
                                        <div className="space-y-2">
                                            <div className="flex justify-between items-center text-xs border-b border-dashed pb-1">
                                                <span className="text-slate-500 font-bold">Êàê‰∫§Èáè</span>
                                                <span className="font-mono">{indicatorValues.vol ? indicatorValues.vol.toLocaleString() : '-'}</span>
                                            </div>
                                            <div className="flex justify-between items-center text-xs border-b border-dashed pb-1">
                                                <span className="text-slate-500 font-bold">GMMACD</span>
                                                <span className={`font-mono font-bold ${indicatorValues.gmmacd > 0 ? 'text-red-500' : 'text-green-600'}`}>
                                                    {indicatorValues.gmmacd ? indicatorValues.gmmacd.toFixed(3) : '-'}
                                                </span>
                                            </div>
                                            <div className="flex justify-between items-center text-xs">
                                                <span className="text-slate-500 font-bold">‰πñÈõ¢Áéá</span>
                                                <span className={`font-mono font-bold ${indicatorValues.gap > 0 ? 'text-red-500' : 'text-green-600'}`}>
                                                    {indicatorValues.gap ? indicatorValues.gap.toFixed(2) + '%' : '-'}
                                                </span>
                                            </div>
                                        </div>

                                        <div className="text-[10px] text-slate-400 bg-slate-50 p-2 rounded leading-relaxed mt-4">
                                            <p className="font-bold text-slate-600 mb-1">üí° Âç≥ÊôÇÊï∏Êìö</p>
                                            Áõ§‰∏≠Ë´ãÈªûÊìä‰∏äÊñπ <Icons.Refresh /> ÊåâÈàï‰æÜÂº∑Âà∂ÂèñÂæóÊúÄÊñ∞Â†±ÂÉπ (ÂèØËÉΩÁï•ÊúâÂª∂ÈÅ≤)„ÄÇ
                                        </div>
                                    </div>
                                ) : <div className="text-center py-10 opacity-40 text-xs">Ë´ãÁßªÂãïÊªëÈº†Ëá≥ÂúñË°®</div>}
                            </div>
                        </aside>
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
